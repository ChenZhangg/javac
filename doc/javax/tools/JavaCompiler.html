<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (9.0.4) on Sun Mar 25 13:39:38 CST 2018 -->
<title>JavaCompiler</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2018-03-25">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JavaCompiler";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],4:["t3","抽象方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";loadScripts(document, 'script');</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../javax/tools/package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/JavaCompiler.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../deprecated-list.html">已过时</a></li>
<li><a href="../../index-files/index-1.html">索引</a></li>
<li><a href="../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../javax/tools/JavaCompiler.CompilationTask.html" title="javax.tools中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?javax/tools/JavaCompiler.html" target="_top">框架</a></li>
<li><a href="JavaCompiler.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">所有类</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">程序包</span>&nbsp;<a href="../../javax/tools/package-summary.html">javax.tools</a></div>
<h2 title="接口 JavaCompiler" class="title">接口 JavaCompiler</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有超级接口:</dt>
<dd><code>javax.tools.OptionChecker</code>, <code>javax.tools.Tool</code></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">JavaCompiler</span>
extends javax.tools.Tool, javax.tools.OptionChecker</pre>
<div class="block">Interface to invoke Java&trade; programming language compilers from
 programs.

 <p>The compiler might generate diagnostics during compilation (for
 example, error messages).  If a diagnostic listener is provided,
 the diagnostics will be supplied to the listener.  If no listener
 is provided, the diagnostics will be formatted in an unspecified
 format and written to the default output, which is <code>
 System.err</code> unless otherwise specified.  Even if a diagnostic
 listener is supplied, some diagnostics might not fit in a <code>
 Diagnostic</code> and will be written to the default output.

 <p>A compiler tool has an associated standard file manager, which
 is the file manager that is native to the tool (or built-in).  The
 standard file manager can be obtained by calling <a href="../../javax/tools/JavaCompiler.html#getStandardFileManager-javax.tools.DiagnosticListener-java.util.Locale-java.nio.charset.Charset-">getStandardFileManager</a>.

 <p>A compiler tool must function with any file manager as long as
 any additional requirements as detailed in the methods below are
 met.  If no file manager is provided, the compiler tool will use a
 standard file manager such as the one returned by <a href="../../javax/tools/JavaCompiler.html#getStandardFileManager-javax.tools.DiagnosticListener-java.util.Locale-java.nio.charset.Charset-">getStandardFileManager</a>.

 <p>An instance implementing this interface must conform to the Java
 Language Specification and generate class files conforming to the
 Java Virtual Machine specification.  The versions of these
 specifications are defined in the Tool interface.

 Additionally, an instance of this interface supporting <code>SourceVersion.RELEASE_6</code>
 or higher must also support annotation processing.

 <p>The compiler relies on two services: diagnostic listener and file manager.  Although most classes and
 interfaces in this package defines an API for compilers (and
 tools in general) the interfaces DiagnosticListener,
 JavaFileManager, FileObject, and
 JavaFileObject are not intended to be used in
 applications.  Instead these interfaces are intended to be
 implemented and used to provide customized services for a
 compiler and thus defines an SPI for compilers.

 <p>There are a number of classes and interfaces in this package
 which are designed to ease the implementation of the SPI to
 customize the behavior of a compiler:

 <dl>
   <dt><code>StandardJavaFileManager</code></dt>
   <dd>

     Every compiler which implements this interface provides a
     standard file manager for operating on regular files.  The StandardJavaFileManager interface
     defines additional methods for creating file objects from
     regular files.

     <p>The standard file manager serves two purposes:

     <ul>
       <li>basic building block for customizing how a compiler reads
       and writes files</li>
       <li>sharing between multiple compilation tasks</li>
     </ul>

     <p>Reusing a file manager can potentially reduce overhead of
     scanning the file system and reading jar files.  Although there
     might be no reduction in overhead, a standard file manager must
     work with multiple sequential compilations making the following
     example a recommended coding pattern:

     <pre>
       Files[] files1 = ... ; // input for first compilation task
       Files[] files2 = ... ; // input for second compilation task

       JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();
       StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);

       <code>Iterable&lt;? extends JavaFileObject&gt;</code> compilationUnits1 =
           fileManager.getJavaFileObjectsFromFiles(Arrays.asList(files1));
       compiler.getTask(null, fileManager, null, null, null, compilationUnits1).call();

       <code>Iterable&lt;? extends JavaFileObject&gt;</code> compilationUnits2 =
           fileManager.getJavaFileObjects(files2); // use alternative method
       // reuse the same file manager to allow caching of jar files
       compiler.getTask(null, fileManager, null, null, null, compilationUnits2).call();

       fileManager.close();</pre>

   </dd>

   <dt><code>DiagnosticCollector</code></dt>
   <dd>
     Used to collect diagnostics in a list, for example:
     <pre>
       <code>Iterable&lt;? extends JavaFileObject&gt;</code> compilationUnits = ...;
       JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();
       <code>DiagnosticCollector&lt;JavaFileObject&gt; diagnostics = new DiagnosticCollector&lt;JavaFileObject&gt;();</code>
       StandardJavaFileManager fileManager = compiler.getStandardFileManager(diagnostics, null, null);
       compiler.getTask(null, fileManager, diagnostics, null, null, compilationUnits).call();

       for (Diagnostic diagnostic : diagnostics.getDiagnostics())
           System.out.format("Error on line %d in %d%n",
                             diagnostic.getLineNumber()
                             diagnostic.getSource().toUri());

       fileManager.close();</pre>
   </dd>

   <dt>
     <code>ForwardingJavaFileManager</code>, <code>ForwardingFileObject</code>, and
     <code>ForwardingJavaFileObject</code>
   </dt>
   <dd>

     Subclassing is not available for overriding the behavior of a
     standard file manager as it is created by calling a method on a
     compiler, not by invoking a constructor.  Instead forwarding
     (or delegation) should be used.  These classes makes it easy to
     forward most calls to a given file manager or file object while
     allowing customizing behavior.  For example, consider how to
     log all calls to JavaFileManager.flush():

     <pre>
       final Logger logger = ...;
       <code>Iterable&lt;? extends JavaFileObject&gt;</code> compilationUnits = ...;
       JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();
       StandardJavaFileManager stdFileManager = compiler.getStandardFileManager(null, null, null);
       JavaFileManager fileManager = new ForwardingJavaFileManager(stdFileManager) {
           public void flush() {
               logger.entering(StandardJavaFileManager.class.getName(), "flush");
               super.flush();
               logger.exiting(StandardJavaFileManager.class.getName(), "flush");
           }
       };
       compiler.getTask(null, fileManager, null, null, null, compilationUnits).call();</pre>
   </dd>

   <dt><code>SimpleJavaFileObject</code></dt>
   <dd>

     This class provides a basic file object implementation which
     can be used as building block for creating file objects.  For
     example, here is how to define a file object which represent
     source code stored in a string:

     <pre>
       /**
        * A file object used to represent source coming from a string.
        <code>*</code>/
       public class JavaSourceFromString extends SimpleJavaFileObject {
           /**
            * The source code of this "file".
            <code>*</code>/
           final String code;

           /**
            * Constructs a new JavaSourceFromString.
            * <code>@</code>param name the name of the compilation unit represented by this file object
            * <code>@</code>param code the source code for the compilation unit represented by this file object
            <code>*</code>/
           JavaSourceFromString(String name, String code) {
               super(URI.create("string:///" + name.replace('.','/') + Kind.SOURCE.extension),
                     Kind.SOURCE);
               this.code = code;
           }

           <code>@</code>Override
           public CharSequence getCharContent(boolean ignoreEncodingErrors) {
               return code;
           }
       }</pre>
   </dd>
 </dl></div>
<dl>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>1.6</dd>
<dt><span class="simpleTagLabel">作者:</span></dt>
<dd>Peter von der Ah&eacute;, Jonathan Gibbons</dd>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><code>DiagnosticListener</code>, 
<code>Diagnostic</code>, 
<code>JavaFileManager</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colSecond" scope="col">接口</th>
<th class="colLast" scope="col">说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../javax/tools/JavaCompiler.CompilationTask.html" title="javax.tools中的接口">JavaCompiler.CompilationTask</a></span></code></th>
<td class="colLast">
<div class="block">Interface representing a future for a compilation task.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">抽象方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colSecond" scope="col">方法</th>
<th class="colLast" scope="col">说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>javax.tools.StandardJavaFileManager</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../javax/tools/JavaCompiler.html#getStandardFileManager-javax.tools.DiagnosticListener-java.util.Locale-java.nio.charset.Charset-">getStandardFileManager</a></span>&#8203;(javax.tools.DiagnosticListener&lt;? super javax.tools.JavaFileObject&gt;&nbsp;diagnosticListener,
                      java.util.Locale&nbsp;locale,
                      java.nio.charset.Charset&nbsp;charset)</code></th>
<td class="colLast">
<div class="block">Gets a new instance of the standard file manager implementation
 for this tool.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../javax/tools/JavaCompiler.CompilationTask.html" title="javax.tools中的接口">JavaCompiler.CompilationTask</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../javax/tools/JavaCompiler.html#getTask-java.io.Writer-javax.tools.JavaFileManager-javax.tools.DiagnosticListener-java.lang.Iterable-java.lang.Iterable-java.lang.Iterable-">getTask</a></span>&#8203;(java.io.Writer&nbsp;out,
       javax.tools.JavaFileManager&nbsp;fileManager,
       javax.tools.DiagnosticListener&lt;? super javax.tools.JavaFileObject&gt;&nbsp;diagnosticListener,
       java.lang.Iterable&lt;java.lang.String&gt;&nbsp;options,
       java.lang.Iterable&lt;java.lang.String&gt;&nbsp;classes,
       java.lang.Iterable&lt;? extends javax.tools.JavaFileObject&gt;&nbsp;compilationUnits)</code></th>
<td class="colLast">
<div class="block">Creates a future for a compilation task with the given
 components and arguments.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.javax.tools.OptionChecker">
<!--   -->
</a>
<h3>从接口继承的方法&nbsp;javax.tools.OptionChecker</h3>
<code>isSupportedOption</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.javax.tools.Tool">
<!--   -->
</a>
<h3>从接口继承的方法&nbsp;javax.tools.Tool</h3>
<code>getSourceVersions, run</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getTask-java.io.Writer-javax.tools.JavaFileManager-javax.tools.DiagnosticListener-java.lang.Iterable-java.lang.Iterable-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTask</h4>
<pre><a href="../../javax/tools/JavaCompiler.CompilationTask.html" title="javax.tools中的接口">JavaCompiler.CompilationTask</a>&nbsp;getTask&#8203;(java.io.Writer&nbsp;out,
                                     javax.tools.JavaFileManager&nbsp;fileManager,
                                     javax.tools.DiagnosticListener&lt;? super javax.tools.JavaFileObject&gt;&nbsp;diagnosticListener,
                                     java.lang.Iterable&lt;java.lang.String&gt;&nbsp;options,
                                     java.lang.Iterable&lt;java.lang.String&gt;&nbsp;classes,
                                     java.lang.Iterable&lt;? extends javax.tools.JavaFileObject&gt;&nbsp;compilationUnits)</pre>
<div class="block">Creates a future for a compilation task with the given
 components and arguments.  The compilation might not have
 completed as described in the CompilationTask interface.

 <p>If a file manager is provided, it must be able to handle all
 locations defined in <code>StandardLocation</code>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>out</code> - a Writer for additional output from the compiler;
 use <code>System.err</code> if <code>null</code></dd>
<dd><code>fileManager</code> - a file manager; if <code>null</code> use the
 compiler's standard filemanager</dd>
<dd><code>diagnosticListener</code> - a diagnostic listener; if <code>
 null</code> use the compiler's default method for reporting
 diagnostics</dd>
<dd><code>options</code> - compiler options, <code>null</code> means no options</dd>
<dd><code>classes</code> - class names (for annotation processing), <code>
 null</code> means no class names</dd>
<dd><code>compilationUnits</code> - the compilation units to compile, <code>
 null</code> means no compilation units</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>an object representing the compilation</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.RuntimeException</code> - if an unrecoverable error
 occurred in a user supplied component.  The
 cause will be the error in
 user code.</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if any of the given
 compilation units are of other kind than
 source</dd>
</dl>
</li>
</ul>
<a name="getStandardFileManager-javax.tools.DiagnosticListener-java.util.Locale-java.nio.charset.Charset-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getStandardFileManager</h4>
<pre>javax.tools.StandardJavaFileManager&nbsp;getStandardFileManager&#8203;(javax.tools.DiagnosticListener&lt;? super javax.tools.JavaFileObject&gt;&nbsp;diagnosticListener,
                                                           java.util.Locale&nbsp;locale,
                                                           java.nio.charset.Charset&nbsp;charset)</pre>
<div class="block">Gets a new instance of the standard file manager implementation
 for this tool.  The file manager will use the given diagnostic
 listener for producing any non-fatal diagnostics.  Fatal errors
 will be signalled with the appropriate exceptions.

 <p>The standard file manager will be automatically reopened if
 it is accessed after calls to <code>flush</code> or <code>close</code>.
 The standard file manager must be usable with other tools.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>diagnosticListener</code> - a diagnostic listener for non-fatal
 diagnostics; if <code>null</code> use the compiler's default method
 for reporting diagnostics</dd>
<dd><code>locale</code> - the locale to apply when formatting diagnostics;
 <code>null</code> means the default locale.</dd>
<dd><code>charset</code> - the character set used for decoding bytes; if
 <code>null</code> use the platform default</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the standard file manager</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../javax/tools/package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/JavaCompiler.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../deprecated-list.html">已过时</a></li>
<li><a href="../../index-files/index-1.html">索引</a></li>
<li><a href="../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../javax/tools/JavaCompiler.CompilationTask.html" title="javax.tools中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?javax/tools/JavaCompiler.html" target="_top">框架</a></li>
<li><a href="JavaCompiler.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
